
var LocalScanSelectedPath = false;

function setProgress(value, action) {
  $('.progress-bar').css('width', value+'%').attr('aria-valuenow', value);
  $('#LoadingAction').html(action);

  if (value == 100) {
    $("#LoadingArea").fadeOut(1500);
    window.setTimeout(function() {

      WMSCoreNavigate('main');
      WMSCoreMaximize();
    }, 1000);
  }
}

function updateLocalFileTree(jsTreeData) {
  jsTreeData = JSON.parse(atob(jsTreeData))
  $('#jstreeLocalFiles').jstree('destroy');
  $('#jstreeLocalFiles')
  .on('changed.jstree', function( e, data ) {
    LocalScanSelectedPath = data.instance.get_path(data.node,'\\');
    WMSCoreListLocalFiles(LocalScanSelectedPath);
  })
  .jstree({"core": jsTreeData });
}

function StartLocalScan() {
  WMSCoreStartLocalScan(LocalScanSelectedPath);
}
