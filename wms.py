import sys
import os

def pmsg(msg, code = 'info'):
    class bcolors:
        HEADER = '\033[95m'
        OKBLUE = '\033[94m'
        OKGREEN = '\033[92m'
        WARNING = '\033[93m'
        FAIL = '\033[91m'
        ENDC = '\033[0m'
        BOLD = '\033[1m'
        UNDERLINE = '\033[4m'
    colorcode = bcolors.OKGREEN
    if code == 'error':
        colorcode = bcolors.FAIL
    print bcolors.OKBLUE + bcolors.UNDERLINE + ">>" + bcolors.ENDC + " " + colorcode + msg + bcolors.ENDC

if len(sys.argv) == 2:
    pmsg("Loading Wordpress Malware Scanner...")

    WordpressPath = sys.argv[1]
    if os.path.isdir(WordpressPath):
        pmsg("Scanning : " + WordpressPath)
    else:
        pmsg("Unable to find Wordpress installation  folder ("+WordpressPath+"). Please check path.", "error")
else:
    pmsg("Usage: wms_scan /path/to/wordpress/installations")
